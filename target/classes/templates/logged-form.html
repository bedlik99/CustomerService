<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Logged In</title>
</head>
<body>

<div style="text-align: right">

    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Logout"/>
    </form>

    <div sec:authorize="isAuthenticated()"
         th:object="${loggedCustomer}">
        Welcome <b><span sec:authentication="name">Username</span></b>


        <div sec:authorize="hasAuthority('CUSTOMER')">
            <a th:href="@{/service/loggedIn/showDetails}">Showing the info</a>
        </div>


        <br>
        <i><span sec:authentication="principal.authorities">Roles</span></i>

        <a th:href="@{/service/is_signed_in/update(customerId=${loggedCustomer.id})}"
           class="btn btn-info btn-sm">
            Update
        </a>
    </div>
</div>

    <h2 style="text-align: center;">You successfully logged in :)</h2>

</body>

</html>